<!DOCTYPE html>
<html>
<head>
  <title>Vertical scanning image sonification - demo</title>
</head>
<link rel="shortcut icon" href="#"> <!--idk why this fixes the 'favicon.ico not found' thing but it does-->
<link rel="stylesheet" type="text/css" href="scan.css"/>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
<script type="importmap">
  {
    "imports": {
      "tone": "https://cdnjs.cloudflare.com/ajax/libs/tone/15.3.5/Tone.js"
    }
  }
</script>
<body>

<h2>Demo - vertical scanning over image</h2>

Up/down arrow keys to play. <b>For full controls, click "Show/Hide Instructions"</b> 


<!-- <img src="photos/dramatic_crossing-a_stankiewicz.avif"
alt="A small herd of wildebeest leap into a river. Thick clouds of mist obscure
the background. The photo, "Dramatic Crossing" by Artur Stankiewicz, is 
greyscale with strong light and dark contrast."><br/> -->

<!-- <div>
  <h5>Play/Pause sonification</h4>
  <button onclick="sonify()" type="button" id="sonification-play-button" class="play-button">
    <i class="fas fa-play"></i> / <i class="fas fa-pause"></i>
  </button>
</div> -->

<div>
  <h5>Play individual sounds - DOES NOT WORK</h5>
  <button type="button" id="sky-play-pause" value="Sky">
    <i class="fas fa-play small-play-icon"></i> Sky
  </button><br>
  <button type="button" id="water-play-pause">
    <i class="fas fa-play small-play-icon"></i> Water
  </button><br>
  <button type="button" id="animal-play-pause">
    <i class="fas fa-play small-play-icon"></i> Animal
  </button><br>
  <button type="button" id="ground-play-pause">
    <i class="fas fa-play small-play-icon"></i> Ground
  </button><br>
</div>


<div>
  <h5>Select parts of sonification - DOES NOT WORK</h5>
  <form id="regions-to-play-toggle">
    <input type="radio" name="regions-to-play" id="play-all" onclick="toggleRegionSelect()" value="Play all regions">Play all regions
    <input type="radio" name="regions-to-play" id="play-selected" onclick="toggleRegionSelect()" value="Play selected regions">Play selected regions only
  </form>

  <form id='checkboxes' style='display: none'>
    <fieldset class="fieldset-checkboxes">
      <input type="checkbox" id="sky-checkbox" name="region" value="Sky" checked>
      <label for="sky-checkbox">Sky</label><br>
      <input type="checkbox" id="water-checkbox" name="region" value="Water" checked>
      <label for="water-checkbox">Water</label><br>
      <input type="checkbox" id="animal-checkbox" name="region" value="Animal" checked>
      <label for="animal-checkbox">Animal</label><br>
      <input type="checkbox" id="ground-checkbox" name="region" value="Ground" checked>
      <label for="ground-checkbox">Ground</label>
    </fieldset>
  </form>
</div>



<!-- <input type="checkbox" id="all-checkbox" value="All" onClick="toggleAll(this)" checked>
<label for="all-checkbox">All regions</label><br> -->

<!-- <input type="checkbox" id="sky-checkbox" name="region" value="Sky" checked>
<label for="sky-checkbox">Sky</label>
<input type="checkbox" id="water-checkbox" name="region" value="Water" checked>
<label for="water-checkbox">Water</label>
<input type="checkbox" id="animal-checkbox" name="region" value="Animal" checked>
<label for="animal-checkbox">Animal</label>
<input type="checkbox" id="ground-checkbox" name="region" value="Ground" checked>
<label for="ground-checkbox">Ground</label> -->

<br>
<button type='button' onclick="toggleText()" class="instruction-button">Show/Hide Instructions</button>
<span id='instructions' style='display: none'>
  <p>
    <h4>Controls</h4>
    Up and down arrow keys to move "up" and "down" 
    through the image. You're at the bottom of the image by default. <br>

    <b>Using "scan_segmented.js" (default):</b><br>

    Single press on up or down arrow moves you up or down a "segment" and 
    then play that segment on loop. You can disable looping by
    changing the variable `LOOPS` at line 16 of `scan_segmented.js` to false. 
    Spacebar stops and restarts playback on the current segment.<br>

    <b>Using "scan_continuous.js":</b><br>

    Press and hold the up and down arrows to play "up" and "down" the image. 
    Release the key to stop playback, press again to resume from the same 
    point. This version was not 100% completed, so it may stop working when 
    you reach the end and backwards playback may behave weirdly (see 
    `documentation/scan_technical.md`). If this happens, <b>reload to 
    reset</b>.<br>
  </p>
  <p>
    <b>NOT IMPLEMENTED YET:</b><br>
    The selected regions will appear in the sonification.
    <br>
    Click the "Hear [sound] alone" button for a region to play its associated sound alone.
  </p>
  <p>
    <h4>Concept</h4>
    Each of the regions in this image has an associated sound. Imagine a bar scanning 
    over the image from bottom to top: the sound of a region plays when that region is
    present under that bar. The volume of the sound is proportional to how much of image
    it takes up under that bar.
    <br>
    <span style="margin-left: 1rem;">e.g. If the sound for "water" and the sound for 
      "rock" are playing at equal volumes, the image at that height is about half 
      water and half rock.
    </span>
    <br>
    <span style="margin-left: 1rem;">e.g. If a sound plays for the first quarter of 
      the total sonification and then disappears, that region is only present in the 
      bottom quarter of the image
    </span>
  </p>
</span>
<br>


<!-- Full audio control blocks under/indented each element -->
 <!-- <br>
<input type="checkbox" onClick="toggleAll(this)" /> All<br/>
<input type="checkbox" id="sky" name="region" value="Sky">
<label for="sky"> Sky</label>
<audio controls class="sample" src="audio_tracks/example_tone-sky_wind.mp3"></audio>
<input type="checkbox" id="water" name="region" value="Water">
<label for="water"> Water</label><br>
<audio controls class="sample" src="audio_tracks/example_tone-water_lake.mp3"></audio>
<input type="checkbox" id="animal" name="region" value="Animal">
<label for="animal"> Animal</label><br>
<audio controls class="sample" src="audio_tracks/example_tone-animal-short.mp3"></audio>
<input type="checkbox" id="ground" name="region" value="Ground">
<label for="ground"> Ground</label><br>
<audio controls class="sample" src="audio_tracks/example_tone-ground.mp3"></audio><br>
<input type="button" onclick="playSonification()" value="Play/Pause"> -->

<!-- <figure>
  <figcaption>Listen to the full render:</figcaption>
  <audio controls src="audio_tracks/full_render-vertical_scan-w.mp3"></audio>
</figure>

<audio controls src="audio_tracks/full_render-vertical_scan-w.mp3"></audio> -->

</body>

  <!-- <script src="http://unpkg.com/tone"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/15.3.5/Tone.js" integrity="sha512-F1myjNkIKU5XJtOs1HXRo/zOjiUsABgFEEGKLx/riwK82jRThZFebEnfF2HWo9eeC+iC1Nwwnn9Vj6OGq+r7rQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!--old one, for back compatibility: -->
  <!-- <script src="scanning_interactive_audioelement.js"></script> -->
  <!--new one using Tone.js: -->
  <!-- <script src="scan_continuous.js"></script> -->
  <!--using Tone.js and breaking the playback up into segments: -->
  <script src="scan_segmented.js"></script>
</html>